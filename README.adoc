image:redhat_raffle_big.png[Red Hat Raffle Logo, title="Red Hat Raffle Logo"]

IMPORTANT: Requires Node.js 8.11 or greater and `npm` 5.6 or greater.

IMPORTANT: Requires Maven 3.3 or greater.

IMPORTANT: Requires Openshift Container Platform 3.7 or greater.

== Cloning the source code
To clone the Raffle project on your local environment:

[source,bash,options="nowrap",subs="attributes+"]
----
$ git clone git@github.com:tejones/redhat-raffle

$ cd redhat-raffle
----

== Openshift Project
To create the project on your Openshift Cluster:

[source,bash,options="nowrap",subs="attributes+"]
----
$ oc new-project redhat-raffle --display-name="Red Hat Raffle" --description="Red Hat Raffle"
----

== Database
To initialize the database:

[source,bash,options="nowrap",subs="attributes+"]
----
$ cd raffle-persistance

$ oc new-app postgresql-persistent --name=raffle-postgres -p DATABASE_SERVICE_NAME=raffle-postgres -p POSTGRESQL_USER=postgresql -p POSTGRESQL_PASSWORD=postgresql -p POSTGRESQL_DATABASE=raffle

$ oc rsync sql/ <POD_NAME>:/opt/app-root/src

$ oc rsh <POD_NAME> 

sh-4.2$ PGPASSWORD=$POSTGRESQL_PASSWORD psql -h raffle-postgres $POSTGRESQL_DATABASE $POSTGRESQL_USER -f raffle-postgres.ddl

sh-4.2$  exit

$ cd ..
----


== Microservices
To initialize the microservices:

[source,bash,options="nowrap",subs="attributes+"]
----
$ cd raffle-microservice

$ cd raffle-service
$ mvn clean fabric8:deploy -Popenshift -DskipTests
$ cd ..
----


== Web Application
To initialize the Web App :

[source,bash,options="nowrap",subs="attributes+"]
----
$ cd raffle-web-app

$ mv .nodeshift_v1 .nodeshift
$ npm run openshift

$ cd ..
----


== Red Hat Raffle Mobile App
{Raffle App instructions here}
